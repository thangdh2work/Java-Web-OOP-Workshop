<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::section})}">
<section>
  <h2 th:text="${student.id} != null ? 'Edit Student' : #{students.create}">Create Student</h2>
  <div class="card">
    <form class="form" th:action="${student.id} != null ? @{'/admin/students/' + ${student.id}} : @{/admin/students}" method="post">
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
      <div class="form-row">
        <label th:text="#{form.username}">Username</label>
        <input type="text" name="username" th:value="${student.username}" th:readonly="${student.id} != null" required>
      </div>
      <div class="form-row">
        <label th:text="#{form.fullname}">Full name</label>
        <input type="text" name="fullName" th:value="${student.fullName}" required>
      </div>
      <div class="form-row">
        <label th:text="#{form.email}">Email</label>
        <input type="email" name="email" th:value="${student.email}">
      </div>
      <div class="form-row" style="display: flex; align-items: center;">
        <input type="checkbox" name="enabled" th:checked="${student.enabled}" style="margin-right: 8px;">
        <label th:text="#{form.enabled}">Enable</label>
      </div>
      <div class="form-row">
        <label th:text="${student.id} != null ? #{form.passwordNew} : #{form.password}">Password</label>
        <input type="password" name="password" th:required="${student.id} == null">
      </div>
      <div class="form-actions">
        <button class="btn" type="submit" th:text="#{form.save}">Save</button>
        <a class="btn btn-outline" th:href="@{/admin/students}" th:text="#{form.back}">Back</a>
      </div>
    </form>
  </div>
</section>
</html>
